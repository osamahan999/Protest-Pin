(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=154},155:function(e,t){},191:function(e,t,n){},209:function(e,t,n){},213:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},226:function(e,t,n){},229:function(e,t,n){},317:function(e,t){},318:function(e,t){},319:function(e,t){},320:function(e,t){},321:function(e,t){},322:function(e,t){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(12),r=n.n(s),o=(n(191),n(92),n(22)),l=n(38),i=n.n(l),d=n(9),u=n(65),j=n(18),b=n.n(j),h=(n(124),n(209),n(15)),g=n.n(h),m=n(25),p=n(63),f=n(64),O=(n(213),n(1));function x(e){var t=e.panTo,n=Object(p.a)({requestOptions:{location:{lat:function(){return 43.6532},lng:function(){return-79.3832}},radius:1e5}}),a=n.ready,c=n.value,s=n.suggestions,r=s.status,o=s.data,l=n.setValue,i=n.clearSuggestions;return Object(O.jsx)("div",{className:"search",children:Object(O.jsxs)(f.a,{onSelect:function(){var e=Object(m.a)(g.a.mark((function e(n){var a,c,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(n,!1),i(),e.prev=2,e.next=5,Object(p.b)({address:n});case 5:return a=e.sent,e.next=8,Object(p.c)(a[0]);case 8:c=e.sent,s=c.lat,r=c.lng,t({lat:s,lng:r}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(O.jsx)(f.b,{value:c,onChange:function(e){l(e.target.value)},disabled:!a,placeholder:"Search your location"}),Object(O.jsx)(f.e,{children:Object(O.jsx)(f.c,{children:"OK"===r?o.map((function(e){var t=e.id,n=e.description;return Object(O.jsx)(f.d,{value:n},t)})):null})})]})})}function v(e){var t=e.panTo;return Object(O.jsx)("button",{className:"locate",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){t({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(){return null}))},children:Object(O.jsx)("img",{src:"/compass.svg",alt:"compass"})})}var y=n(173),w=n(364),S=n(125),I=Object(S.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function k(e){var t=e.setVisitDate,n=I(),c=Object(a.useState)(),s=Object(d.a)(c,2),r=(s[0],s[1],Object(a.useState)("2021-05-11T10:30")),o=Object(d.a)(r,2),l=o[0],i=o[1];return Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{style:{width:"28vw"},id:"datetime-local",label:"Date and Time of the event",type:"datetime-local",value:l,onChange:function(e){return function(e){new Date(e.target.value)<new Date?alert("Cannot pick a day is already passed!"):(i(e.target.data),t(e.target.value))}(e)},className:n.textField,InputLabelProps:{shrink:!0}})})}n(126),n(218);function _(e){var t=e.lat,n=e.lng,s=e.setNewMarkerLocation,r=e.getEventList,o=c.a.createRef(null),l=Object(a.useState)(!1),i=Object(d.a)(l,2),u=i[0],j=i[1],h=Object(a.useState)(""),p=Object(d.a)(h,2),f=p[0],x=p[1],v=Object(y.a)().handleSubmit,S=Object(a.useState)(new Date),I=Object(d.a)(S,2),_=I[0],E=I[1],C=Object(a.useState)(""),T=Object(d.a)(C,2),N=T[0],B=T[1],L=Object(a.useState)(""),q=Object(d.a)(L,2),D=q[0],F=q[1],R=Object(a.useState)(localStorage.getItem("userId")),z=Object(d.a)(R,2),M=z[0];z[1];Object(a.useEffect)((function(){return console.log("user id: ",M),function(){}}),[]);var P=function(){var e=Object(m.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{j(!0),(a={}).latitude=t,a.longitude=n,a.event_name=N,a.time_of_event=_,a.event_description=D,b.a.post("http://localhost:3306/event/createEvent",{user_id:M,event_name:N,event_description:D,time_of_event:_,latitude:t,longitude:n}).then((function(e){console.log(e),alert("Protest is created successfully!"),r(),s(null)})).catch((function(e){alert(e)}))}catch(f){console.error(f),x(f.message),j(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{onSubmit:v(P),className:"entry-form",children:[f?Object(O.jsx)("h3",{className:"error",children:f}):null,Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("h4",{children:"Create your protest!"})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{required:!0,className:"textfield",name:"title",id:"outlined-required",label:"Required Title",placeholder:"Title",variant:"outlined",onChange:function(e){return B(e.target.value)},ref:o})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)(w.a,{name:"description",label:"Description",required:!0,placeholder:"This place.....",className:"textfield",multiline:!0,variant:"outlined",onChange:function(e){return F(e.target.value)},ref:o})}),Object(O.jsx)("br",{})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)(k,{setVisitDate:function(e){E(e)}})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"button",disabled:u,children:u?"Loading...":"Create Entry"})]})}n(104),n(219);var E=n(331);n(158);var C=n(363),T=n(106),N=n.n(T),B=n(107),L=n.n(B),q=n(166),D=n.n(q),F=(n(105),n(174),n(8)),R=n(367),z=n(164),M=n.n(z),P=n(159),U=n.n(P),A=n(160),W=n.n(A),J=n(161),V=n.n(J),Y=n(162),$=n.n(Y),G=n(163),H=n.n(G),K=n(362),Z=n(365),Q=Object(F.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(R.a);U.a,W.a,V.a,$.a,H.a;function X(e){var t=e.setUpdatedEventRating,n=e.user_id,c=e.event_id,s=(e.organizer_id,e.curRatings),r=(e.isStars,e.getEventList),o=Object(a.useState)(s),l=Object(d.a)(o,2),i=l[0],u=l[1];return Object(O.jsx)("div",{children:Object(O.jsxs)(Z.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(O.jsx)(K.a,{component:"legend",children:"Rate this event"}),Object(O.jsx)(Q,{name:"customized-color",onChange:function(e,a){!function(e){console.log(e),u(e),b.a.post("http://localhost:3306/event/voteOnEvent",{user_id:n,event_id:c,votes:e}).then((function(e){console.log(e.data),alert("Thank you for your vote"),t(c),r()})).catch((function(e){alert(e),console.log(e)}))}(a)},value:i,getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:1,icon:Object(O.jsx)(M.a,{fontSize:"inherit"})})]})})}n(221);var ee=n(165),te=n.n(ee);function ne(e){var t=e.event_rating;return Object(O.jsx)("div",{children:Object(O.jsx)(te.a,{name:"rate1",value:t})})}function ae(e){var t=e.user_votes,n=e.position,c=e.isAttending,s=e.user_id,r=e.event_id,o=e.organizer_id,l=e.event_name,i=e.time_of_event,u=e.event_description,j=e.setSelected,h=e.getEventList,g=Object(a.useState)(""),m=Object(d.a)(g,2),p=m[0],f=m[1],x=Object(a.useState)(new Date),v=Object(d.a)(x,2),y=v[0],w=v[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),k=I[0],_=I[1],T=Object(a.useState)(!1),B=Object(d.a)(T,2),q=B[0],F=B[1],R=Object(a.useState)(0),z=Object(d.a)(R,2),M=z[0],P=z[1],U=Object(a.useState)(""),A=Object(d.a)(U,2),W=A[0],J=A[1],V=Object(a.useState)(0),Y=Object(d.a)(V,2),$=Y[0],G=Y[1];Object(a.useEffect)((function(){F(c);var e=new Date(i);e<new Date&&_(!0),w(e),b.a.get("http://localhost:3306/event/getUserRating?user_id=".concat(o)).then((function(e){console.log("organizer rating",e.data[0]),J(e.data[0].User),H(r),h()})).catch((function(e){alert(e),console.log(e)})),b.a.get("http://localhost:3306/event/getEventAttendees?event_id=".concat(r)).then((function(e){G(e.data[0].Attendees)})).catch((function(e){alert(e),console.log(e)}));var t="https://www.google.com/maps/search/?api=1&query=".concat(n.lat,",").concat(n.lng);f(t)}),[]);var H=function(e){b.a.get("http://localhost:3306/event/getEventRating?event_id=".concat(e)).then((function(e){console.log("rating",e.data),P(e.data.rating)})).catch((function(e){alert(e),console.log(e)}))};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"card-body text-dark",children:[Object(O.jsx)("h2",{className:"card-title",children:l}),Object(O.jsx)(ne,{event_rating:M}),Object(O.jsxs)("h5",{children:["Organizer:  ",W,"  "]}),Object(O.jsx)("br",{}),Object(O.jsxs)("h4",{className:"description",children:[" ",u]}),Object(O.jsx)("br",{}),Object(O.jsxs)("h5",{className:"card-text text-secondary",children:[" ",y.toString()]}),Object(O.jsx)("br",{}),Object(O.jsxs)("h5",{children:["Number of attendee: ",$]}),Object(O.jsx)("br",{}),Object(O.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",children:" Show me on Google Maps"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),k&&c?Object(O.jsx)(X,{setUpdatedEventRating:H,user_id:s,event_id:r,organizer_id:o,curRatings:t,isStars:!1,getEventList:h}):null]}),Object(O.jsx)("br",{}),o!==s?Object(O.jsxs)(C.a,{fullWidth:!0,children:[Object(O.jsx)(E.a,{startIcon:Object(O.jsx)(N.a,{}),size:"large",variant:"contained",color:"primary",onClick:function(){return j(null)},children:"Back"}),q?Object(O.jsx)(E.a,{startIcon:Object(O.jsx)(L.a,{}),size:"large",variant:"contained",color:"secondary",onClick:function(){return console.log(r),b.a.post("http://localhost:3306/event/leaveEvent",{user_id:s,event_id:r}).then((function(e){console.log(e.data),F(!1),h(),alert("You have left the event.")})).catch((function(e){alert(e),console.log(e)})),void j(null)},children:"Leave"}):Object(O.jsx)(E.a,{startIcon:Object(O.jsx)(L.a,{}),size:"large",variant:"contained",color:"secondary",onClick:function(){return console.log(r),b.a.post("http://localhost:3306/event/joinEvent",{user_id:s,event_id:r}).then((function(e){console.log(e.data),F(!0),alert("You have successfully joined the event!"),h()})).catch((function(e){alert(e),console.log(e)})),void j(null)},children:"Join"})]}):Object(O.jsxs)(C.a,{fullWidth:!0,children:[Object(O.jsx)(E.a,{startIcon:Object(O.jsx)(N.a,{}),size:"large",variant:"contained",color:"primary",onClick:function(){return j(null)},children:"Back"}),Object(O.jsx)(E.a,{startIcon:Object(O.jsx)(D.a,{}),size:"large",variant:"contained",color:"secondary",onClick:function(){b.a.post("http://localhost:3306/event/deleteEvent",{user_id:s,event_id:r}).then((function(e){console.log(e),alert("Protest is deleted successfully!"),console.log("calling getEventList"),h(),j(null)})).catch((function(e){alert(e),console.log(e)}))},children:"Delete this event"})]})]})}n(226);function ce(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(O.jsx)("link",{rel:"stylesheet",href:"https://www.w3schools.com/w3css/4/w3.css"}),Object(O.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(O.jsxs)("div",{className:"header-bar",children:[Object(O.jsx)("h",{children:"PROTEST PIN"}),Object(O.jsxs)("div",{className:"icons",children:[Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)("button",{children:Object(O.jsx)("i",{class:"material-icons",children:"home"})})}),Object(O.jsx)(o.b,{to:"/profile",children:Object(O.jsx)("button",{children:Object(O.jsx)("i",{class:"material-icons",children:"person"})})})]})]})]})}n(229);var se={width:"100vw",height:"100vh"},re={lat:37.33548,lng:-121.893028},oe={styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#6195a0"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#e6f3d6"},{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#f4d2c5"},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{color:"#4e4e4e"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#f4f4f4"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#787878"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#eaf6f8"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#eaf6f8"}]}],disableDefaultUI:!0,zoomControl:!0},le=["places"];function ie(e){var t=Object(u.d)({googleMapsApiKey:"AIzaSyCQRRWBoUBricRcr7PFC1-CFbSiv_Sf_bg",libraries:le}),n=t.isLoaded,c=t.loadError,s=Object(a.useState)(null),r=Object(d.a)(s,2),o=r[0],l=r[1],i=Object(a.useState)([]),j=Object(d.a)(i,2),h=(j[0],j[1],Object(a.useState)(null)),g=Object(d.a)(h,2),m=g[0],p=g[1],f=Object(a.useState)(!0),y=Object(d.a)(f,2),w=(y[0],y[1],Object(a.useState)([])),S=Object(d.a)(w,2),I=S[0],k=S[1],E=Object(a.useState)(),C=Object(d.a)(E,2),T=C[0],N=C[1],B=Object(a.useRef)(),L=null;L="true"==localStorage.getItem("loggedIn");var q=function(){var e=parseInt(localStorage.getItem("userId"));console.log("user id:",e),N(e),b.a.get("http://localhost:3306/event/getUserEvents?user_id=".concat(e)).then((function(e){console.log("Get back from api",e.data),k(e.data)})).catch((function(e){alert(e)}))};Object(a.useEffect)((function(){q()}),[]);var D=Object(a.useCallback)((function(e){B.current=e}),[]),F=Object(a.useCallback)((function(e){var t={lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date};p(null),l(t)}),[]),R=Object(a.useCallback)((function(e){var t=e.lat,n=e.lng;B.current.panTo({lat:t,lng:n}),B.current.setZoom(15);var a={lat:t,lng:n,time:new Date};l(a)}),[]);return c?"Error":n?Object(O.jsxs)("div",{class:"page",children:[L&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{panTo:R}),Object(O.jsx)(v,{panTo:R}),Object(O.jsx)(ce,{setEventList:k})]}),Object(O.jsxs)(u.a,{mapContainerStyle:se,center:re,zoom:10,options:oe,onClick:F,onLoad:D,children:[I.map((function(e){return Object(O.jsx)(u.c,{position:{lat:e.latitude,lng:e.longitude},icon:{url:"/loudspeaker.svg",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){p(e)}},e.event_id)})),o?Object(O.jsx)(u.b,{position:{lat:o.lat,lng:o.lng},onCloseClick:function(){l(null)},children:Object(O.jsx)("div",{children:Object(O.jsx)(_,{lat:o.lat,lng:o.lng,setNewMarkerLocation:l,getEventList:q})})}):null,m?Object(O.jsx)(u.b,{position:{lat:m.latitude,lng:m.longitude},onCloseClick:function(){p(null)},children:Object(O.jsx)(ae,{user_votes:m.Votes,position:{lat:m.latitude,lng:m.longitude},user_id:parseInt(localStorage.getItem("userId")),isAttending:T===m.user_id,event_id:m.event_id,organizer_id:m.organizer_id,event_name:m.event_name,time_of_event:m.time_of_event,event_description:m.event_description,setSelected:p,getEventList:q})}):null]})]}):"Loading..."}function de(e){return Object(O.jsx)(O.Fragment,{children:"false"==localStorage.getItem("loggedIn")?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ie,{}),Object(O.jsx)("div",{className:"overlay",children:Object(O.jsxs)("div",{id:"modal",className:"modal",children:[Object(O.jsx)("img",{src:"pexels-markus-spiske-protest.jpg"}),Object(O.jsx)("header",{id:"modal-header",children:"Welcome to Protest Pin"}),Object(O.jsx)("p",{id:"desc",children:"To get started, login or sign up."}),Object(O.jsx)(o.b,{to:"/login",children:Object(O.jsx)("button",{children:"Login"})}),Object(O.jsx)(o.b,{to:"/signup",children:Object(O.jsx)("button",{children:"Sign Up"})})]})})]}):Object(O.jsx)(l.Redirect,{from:"/welcome",to:"/"})})}var ue=n(28),je=n(59),be=n(60),he=n(88),ge=n(87),me=n(17),pe=function(e){Object(he.a)(a,e);var t=Object(ge.a)(a);function a(e){var c;return Object(je.a)(this,a),(c=t.call(this,e)).handleChange=function(e){var t="checkbox"===e.target.type;c.setState(Object(ue.a)({},e.target.name,t?e.target.checked:e.target.value))},c.handleSubmit=function(e){e.preventDefault(),c.validate()&&(console.log(c.state),c.setState({username:"",password:""}))},c.validate=function(){n(18)({method:"get",url:"".concat("http://localhost:3306","/login/loginUser?username=")+c.state.username.toString()+"&password="+c.state.password.toString(),headers:{}}).then((function(e){if(null!=e.data.token){var t=new Date;t.setTime(t.getTime()+36e8);var n="token = "+e.data.token+"; SameSite=None; Secure; expires="+t.toUTCString();document.cookie=n}c.setState({validated:!0}),window.location.assign("http://localhost:3000/")})).catch((function(e){console.log(e),c.setState({validated:!1})}))},c.props=e,c.state={username:"",password:"",redirect:!1,validated:!0,loggedIn:!1},c}return Object(be.a)(a,[{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(O.Fragment,{children:"false"==localStorage.getItem("loggedIn")?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ie,{}),Object(O.jsx)("div",{className:"overlay",children:Object(O.jsxs)("div",{id:"modal",className:"modal",children:[Object(O.jsx)("header",{id:"modal-header",children:"Member Login "}),Object(O.jsx)("p",{id:"desc",children:"Login to access your account!"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{className:"form",id:"form",children:[Object(O.jsx)("input",{id:"username-field",type:"text",name:"username",value:this.state.name,onChange:this.handleChange,placeholder:"Username"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{id:"password-field",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"submit",children:"Log in"}),this.state.validated?null:Object(O.jsx)("p",{id:"wrong-login",children:"Wrong username or password"})]}),Object(O.jsxs)("p",{id:"desc",children:["Don't have an account? ",Object(O.jsx)("br",{}),Object(O.jsx)(o.b,{to:"/signup",children:Object(O.jsx)("button",{id:"nav",children:"Create one"})})]})]})})]}):Object(O.jsx)(me.Redirect,{from:"/login",to:"/"})})})}}]),a}(a.Component),fe=(Object(me.withRouter)(pe),n(169)),Oe=n.n(fe),xe=n(366),ve=function(e){Object(he.a)(a,e);var t=Object(ge.a)(a);function a(e){var c;return Object(je.a)(this,a),(c=t.call(this,e)).date=new Date,c.ageLimit=new Date(c.date.getFullYear()-18,c.date.getMonth(),c.date.getDate()),c.handleChange=function(e){var t="checkbox"===e.target.type;c.setState({message:e.target.value},c.handleRegistration),c.setState(Object(ue.a)({},e.target.name,t?e.target.checked:e.target.value))},c.handleRegistration=function(){var e,t,n,a,s,r,o,l,i;e=!(c.state.username.length<5||c.state.username.length>30),t=!(!/^[A-Za-z0-9 ._-]+$/.test(c.state.username.toString())||/\s/.test(c.state.username.toString())),n=!/[.]{2,}/.test(c.state.username.toString())&&!c.state.username.toString().endsWith("."),s=!(c.state.password.length<5||c.state.password.length>30),r=!!/[!@#$%\^&*()\?]/.test(c.state.password.toString()),o=!!/[0-9]/.test(c.state.password.toString()),e&&t&&n||(document.getElementById("user-info").style.color="red",document.getElementById("username-field").style.border="1px solid red"),e||(document.getElementById("un-req-1").style.color="red"),t||(document.getElementById("un-req-2").style.color="red"),n||(document.getElementById("un-req-3").style.color="red"),e&&(document.getElementById("un-req-1").style.color="#c6c6c6"),t&&(document.getElementById("un-req-2").style.color="#c6c6c6"),n&&(document.getElementById("un-req-3").style.color="#c6c6c6"),e&&t&&n?(document.getElementById("user-info").style.color="black",document.getElementById("username-field").style.border="1px solid black",a=!0):a=!1,s&&o&&r||(document.getElementById("pw-info").style.color="red",document.getElementById("pw-field").style.border="1px solid red"),s||(document.getElementById("pw-req-1").style.color="red"),r||(document.getElementById("pw-req-3").style.color="red"),o||(document.getElementById("pw-req-2").style.color="red"),s&&(document.getElementById("pw-req-1").style.color="#c6c6c6"),r&&(document.getElementById("pw-req-3").style.color="#c6c6c6"),o&&(document.getElementById("pw-req-2").style.color="#c6c6c6"),o&&s&&r?(document.getElementById("pw-info").style.color="black",document.getElementById("pw-field").style.border="1px solid black",i=!0):i=!1,0===c.state.password.toString().localeCompare(c.state.password2.toString())&&c.state.password2?(document.getElementById("pw2-field").style.border="1px solid black",l=!1,console.log("Passwords match")):(document.getElementById("pw2-field").style.border="1px solid red",l=!0,console.log("Passwords do not match")),a&&i&&l&&c.setState({valid:!0})},c.validate=function(e){var t,a,s;if(e.preventDefault(),c.state.username?document.getElementById("username-field").style.border="1px solid black":document.getElementById("username-field").style.border="1px solid red",c.state.password?document.getElementById("pw-field").style.border="1px solid black":document.getElementById("pw-field").style.border="1px solid red",c.state.password2?document.getElementById("pw2-field").style.border="1px solid black":document.getElementById("pw2-field").style.border="1px solid red",c.state.birthday?document.getElementById("bday-field").style.border="1px solid black":document.getElementById("bday-field").style.border="1px solid red",c.state.valid){t=c.state.birthday.getMonth()<10?"0".concat(c.state.birthday.getMonth()+1).toString():(c.state.birthday.getMonth()+1).toString(),a=c.state.birthday.getDate()<10?"0".concat((c.state.birthday.getDate()+1).toString()):(c.state.birthday.getDate()+1).toString(),s=c.state.birthday.getFullYear().toString().concat("-").concat(t).concat("-").concat(a);var r=n(18),o={username:"",password:"",birthday:""};o.username=c.state.username,o.password=c.state.password,o.birthday=s,r({method:"post",url:"http://localhost:3306/register/userRegister",headers:{"Content-Type":"application/json"},data:o=JSON.stringify(o)}).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}},c.CalendarContainer=function(e){var t=e.children,n=document.getElementById("calendar-portal");return Object(O.jsx)(xe.a,{container:n,children:t})},c.state={username:"",password:"",password2:"",birthday:null,valid:!1},c}return Object(be.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsx)(O.Fragment,{children:"false"==localStorage.getItem("loggedIn")?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ie,{}),Object(O.jsx)("div",{className:"overlay",children:Object(O.jsxs)("div",{className:"modal",id:"modal",children:[Object(O.jsx)("header",{id:"modal-header",children:"Register your account"}),Object(O.jsxs)("form",{onSubmit:this.validate,children:[Object(O.jsxs)("div",{className:"form",id:"form",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("input",{id:"username-field",type:"text",name:"username",value:this.state.name,onChange:this.handleChange,placeholder:"Username"}),Object(O.jsxs)("div",{className:"info",id:"user-info",children:["\u24d8",Object(O.jsxs)("div",{className:"reqs",id:"username-reqs",children:[Object(O.jsx)("p",{id:"un-req-4",children:"Username is taken"}),Object(O.jsx)("p",{id:"un-req-1",children:"Must be between 5 and 30 characters"}),Object(O.jsx)("p",{id:"un-req-2",children:'Only ".", "_", and "-" are allowed'}),Object(O.jsx)("p",{id:"un-req-3",children:'Cannot end with "." or have multiple "." in a row'})]})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("input",{id:"pw-field",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"}),Object(O.jsxs)("div",{className:"info",id:"pw-info",children:["\u24d8",Object(O.jsxs)("div",{className:"reqs",id:"pw-reqs",children:[Object(O.jsx)("p",{id:"pw-req-1",children:"Must be between 5 and 30 characters"}),Object(O.jsx)("p",{id:"pw-req-2",children:"At least 1 number"}),Object(O.jsx)("p",{id:"pw-req-3",children:'At least one special symbol "!", "@", "#", "$", "%", "^", "&", "*", "(", or ")"'})]})]}),Object(O.jsx)("br",{})," ",Object(O.jsx)("br",{}),Object(O.jsx)("input",{id:"pw2-field",type:"password",name:"password2",value:this.state.password2,onChange:this.handleChange,placeholder:"Enter password again"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"field",children:Object(O.jsx)(Oe.a,{id:"bday-field",className:"date-picker",selected:this.state.birthday,onChange:function(t){return e.setState({birthday:t})},dateFormat:"MM-dd-yyyy",placeholderText:"Birthday",popperPlacement:"bottom",popperContainer:this.CalendarContainer,maxDate:this.ageLimit})})]}),Object(O.jsx)("button",{type:"submit",children:"Sign up"})]}),Object(O.jsxs)("p",{id:"desc",children:["Already have an account? ",Object(O.jsx)("br",{}),Object(O.jsx)(o.b,{to:"/login",children:Object(O.jsx)("button",{id:"nav",onClick:this.openLogin,children:"Login here!"})})]})]})})]}):Object(O.jsx)(me.Redirect,{from:"/signup",to:"/"})})}}]),a}(c.a.Component),ye=n(37);n(316),n(323);function we(e){var t=Object(a.useState)(),c=Object(d.a)(t,2),s=c[0],r=c[1],l=Object(a.useState)(),i=Object(d.a)(l,2),u=i[0],j=i[1],b=Object(a.useState)(),h=Object(d.a)(b,2),p=h[0],f=h[1],x=Object(a.useState)(!0),v=Object(d.a)(x,2),y=v[0],w=v[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),k=(I[0],I[1]),_=Object(a.useState)([]),E=Object(d.a)(_,2),C=(E[0],E[1],Object(a.useState)([])),T=Object(d.a)(C,2),N=T[0],B=T[1];Object(a.useEffect)((function(){!function(){D.apply(this,arguments)}(),function(){q.apply(this,arguments)}()}),[]);var L=function(e){var t,n=[],a=Object(ye.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;console.log(c);var s=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"activity-box",children:[Object(O.jsxs)("p",{id:"status-header",children:[Object(O.jsx)("b",{children:localStorage.getItem("username")})," attended ",c.event_name]}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{id:"status-desc",children:c.event_description})]}),Object(O.jsx)("p",{id:"time",children:c.time_marked_as_attendee})]});n.push(s)}}catch(r){a.e(r)}finally{a.f()}B(n)};function q(){return(q=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(18),[],[],e.next=5,t.get("".concat("http://localhost:3306","/profile/activity?userId=").concat(localStorage.getItem("userId"))).then((function(e){var t=e.data.events;w(!0),L(t)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(18),e.next=3,t.get("".concat("http://localhost:3306","/profile/profile?userId=").concat(localStorage.getItem("userId"))).then((function(e){var t=e.data.result[0].avg_rating,n=e.data.result[0].bio,a=e.data.result[0].total_reviews;r(t),j(n),f(a),console.log("profile set"),k(!0)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(O.Fragment,{children:y?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(ce,{}),Object(O.jsxs)("div",{className:"profile-page",children:[Object(O.jsxs)("div",{className:"profile-header",children:[Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("h",{children:localStorage.getItem("username")}),Object(O.jsxs)("p",{id:"review",children:[function(){for(var e=[],t=0;t<Math.round(s);++t)e.push(Object(O.jsx)("span",{class:"fa fa-star checked"}));for(t=0;t<Math.round(5-s);++t)e.push(Object(O.jsx)("span",{class:"fa fa-star unchecked"}));return e}()," ",Object(O.jsx)("i",{children:p})]}),Object(O.jsx)("textarea",{readOnly:!0,id:"bio",placeholder:"Write your bio here!",onClick:function(){document.getElementById("bio").style.color="black"},children:u})]}),Object(O.jsx)(o.b,{to:"/welcome",children:Object(O.jsx)("button",{class:"logout",onClick:function(){return e.logout()},children:"Logout"})})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"activity",children:N})]})]})]}):Object(O.jsx)("div",{class:"profile-page",children:Object(O.jsx)("div",{class:"loader"})})})}n(324);function Se(){localStorage.getItem("loggedIn");return Object(a.useEffect)((function(){var e=function(){var e=document.cookie.split(";"),t="";return""==e[0]?"fail":(e.forEach((function(e){var n=e.split("="),a=n[0].trim(),c=n[1].trim();"token"==a&&(t=c)})),t)}();"fail"!=e&&function(e){var t=n(18);null!=e&&t.get("http://localhost:3306"+"/login/loginWithToken?token=".concat(e)).then((function(e){localStorage.setItem("loggedIn",!0),localStorage.setItem("username",e.data.result[0].username),localStorage.setItem("userId",e.data.result[0].user_id),document.cookie=document.cookie+"username="+e.data.result[0].username+";"})).catch((function(e){console.log(e)}))}(e)}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{class:"App",children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(ie,{}),Object(O.jsx)(i.a,{path:"/profile",exact:!0,render:function(){return Object(O.jsx)(we,{logout:function(){return function(){var e=new Date,t=e.getTime()+36e6;e.setTime(t),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",localStorage.setItem("loggedIn",!1),localStorage.setItem("username",""),localStorage.setItem("userId","")}()}})}}),Object(O.jsx)(i.a,{path:"/",exact:!0,render:function(){return Object(O.jsx)(ie,{})}}),Object(O.jsx)(i.a,{path:"/welcome",exact:!0,render:function(){return Object(O.jsx)(de,{})}}),Object(O.jsx)(i.a,{path:"/login",exact:!0,render:function(){return Object(O.jsx)(pe,{})}}),Object(O.jsx)(i.a,{path:"/signup",exact:!0,render:function(){return Object(O.jsx)(ve,{})}})]})})})}var Ie=c.a.memo(Se),ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,369)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Ie,{})}),document.getElementById("root")),ke()},92:function(e,t,n){}},[[325,1,2]]]);
//# sourceMappingURL=main.9df57fdc.chunk.js.map